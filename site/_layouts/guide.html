---
layout: default

css:
  - share
js:
  - share.min
  - components
---

{% include header.html %}
<div class="Page-content">
  {% assign repo = site.data.repos[page.repo] %}
  {% assign url_parts = page.id | split: "/" %}

  {% if repo and repo.toc %}
  <aside class="Page-aside">
    <nav class="AsideNav">
      {% include doc-toc.html items=repo.toc collection=repo.collection %}
    </nav>
  </aside>
  {% endif %}
  <main class="Page-main">
    <article class="Article container-fluid">
      <header class="Article-header">
        <h1 class="Article-title">{{ page.title }}</h1>
      </header>
      <div class="Article-content col-md-9">{{ content }}</div>
      <footer class="Article-footer col-md-3">
        {% include widgets/social.html %}
        {% include widgets/toc.html %}
      </footer>
    </article>
    {% include footer.html %}
  </main>
</div>

<script>
  $('table').addClass('table table-bordered');
  $(document).ready(function() {
    var $el = $('.Page-aside');
    var $cnt = $('.Page-content');

    $el.on({
      'affixed-top.bs.affix': function() {
        $el.css('position', 'static');
      },
      'affixed.bs.affix': function() {
        $el.css('position', 'fixed');
      }
    }).affix({
      top: $el.offset().top,
      bottom: function() {
        return $(document).height() - ($cnt.offset().top + $cnt.outerHeight(true));
      }
    });
  });
</script>
